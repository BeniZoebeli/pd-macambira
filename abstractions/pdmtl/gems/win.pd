#N canvas 1313 113 1247 826 10;
#X obj 177 388 gemwin;
#X obj 104 -313 inlet;
#X msg 138 -180 0;
#X obj 176 118 sel 1 0;
#X msg 433 170 0;
#X msg 167 253 destroy;
#X obj 240 151 t b b;
#X obj 581 193 gemmouse;
#X obj 685 328 sel 1;
#X msg 680 405 0;
#N canvas 830 159 618 746 viewing 0;
#X obj 65 57 inlet;
#X obj 123 55 inlet;
#X obj 238 52 inlet;
#X obj 182 680 outlet;
#X obj 43 558 pack f f f 100;
#X msg 43 588 view \$1 \$2 \$3 0 0 0 0 \$4 0;
#X obj 41 498 expr sin($f1)*cos($f2)*4;
#X obj 380 499 expr cos($f1)*cos($f2)*4;
#X obj 226 498 expr sin($f1)*4;
#X obj 297 221 spigot;
#X obj 244 221 spigot;
#X obj 308 156 t f f f;
#X obj 368 181 sel 1;
#X obj 230 282 t f f;
#X obj 311 285 t f f;
#X obj 181 314 t f f;
#X obj 203 355 -;
#X obj 314 313 t f f;
#X obj 320 364 -;
#X obj 389 312 spigot 1;
#X obj 248 307 spigot 1;
#X msg 372 218 1;
#X obj 237 334 t f b;
#X msg 265 357 0;
#X obj 185 415 +;
#X obj 297 417 +;
#X obj 184 438 t f f f f;
#X obj 296 440 t f f f;
#X obj 141 390 / -100;
#X obj 492 212 input/doubleclick;
#X msg 473 245 0 0;
#X obj 485 81 inlet reset;
#X obj 447 388 / 100;
#X connect 0 0 10 0;
#X connect 1 0 9 0;
#X connect 2 0 11 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 4 2;
#X connect 8 0 4 1;
#X connect 9 0 14 0;
#X connect 10 0 13 0;
#X connect 11 1 9 1;
#X connect 11 1 10 1;
#X connect 11 2 12 0;
#X connect 12 0 21 0;
#X connect 12 0 29 0;
#X connect 13 0 15 0;
#X connect 13 1 20 0;
#X connect 14 0 17 0;
#X connect 14 1 19 0;
#X connect 15 0 16 1;
#X connect 15 1 16 0;
#X connect 16 0 28 0;
#X connect 17 0 18 1;
#X connect 17 1 18 0;
#X connect 18 0 32 0;
#X connect 19 0 18 1;
#X connect 20 0 22 0;
#X connect 21 0 20 1;
#X connect 21 0 19 1;
#X connect 22 0 16 1;
#X connect 22 1 23 0;
#X connect 23 0 20 1;
#X connect 23 0 19 1;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 6 0;
#X connect 26 2 7 0;
#X connect 26 3 24 1;
#X connect 27 0 6 1;
#X connect 27 0 8 0;
#X connect 27 1 7 1;
#X connect 27 2 25 1;
#X connect 28 0 24 0;
#X connect 29 0 30 0;
#X connect 30 0 25 0;
#X connect 30 0 24 0;
#X connect 31 0 30 0;
#X connect 32 0 25 0;
#X restore 563 267 pd viewing;
#X obj 167 209 s \$0reset;
#X obj 508 50 r \$0reset;
#X obj 699 248 r \$0reset;
#X obj 143 532 outlet;
#X obj 143 493 r gems/win/state;
#X obj 159 336 t a a;
#X obj 88 422 s gems/win/state;
#X obj 675 368 input/doubleclick 200;
#X obj 111 198 t b b;
#X msg 70 252 create;
#X msg 124 254 1;
#X obj 200 -67 r gems/win/force_render;
#X msg 200 -36 1;
#X obj 573 -320 dollarg;
#X obj 585 -164 demultiplex 0 1 2;
#X msg 644 -219 0;
#X msg 679 -228 1;
#X obj 617 -289 sel 2 4;
#X obj 573 -360 loadbang;
#X msg 719 -232 2;
#X obj 617 -122 list split 2;
#X obj 691 -17 b;
#X obj 690 -44 r \$0reset;
#X obj 620 109 pack \$3 \$4;
#X msg 621 132 offset \$1 \$2;
#X obj 684 27 spigot;
#X msg 730 2 1;
#X obj 600 10 t l b;
#X obj 837 -46 b;
#X obj 836 -73 r \$0reset;
#X obj 847 -11 f 1;
#X msg 838 76 border \$1;
#X msg 781 -68 0;
#X msg 528 -105 1;
#X obj 690 -84 t b b;
#X obj 697 -266 t b b;
#X msg 295 502 lighting \$1;
#X obj 104 -238 route create destroy dimen border offset lighting;
#X obj 353 272 r \$0reset;
#X obj 313 470 flow/valuechange gems/win/lighting;
#X obj 176 42 flow/valuechange gems/win/render;
#X obj 671 226 flow/valuechange gems/win/right_click;
#X obj 686 282 flow/valuechange gems/win/middle_click;
#X obj 425 396 r gems/win/lighting;
#X obj 36 321 r \$0gemwin;
#X obj 295 530 s \$0gemwin;
#X obj 567 293 s \$0gemwin;
#X obj 639 167 s \$0gemwin;
#X obj 398 357 s gems/light/query;
#X obj 355 306 t b b b;
#X obj 353 390 spigot;
#X msg 428 334 1;
#X msg 343 339 0;
#X obj 428 424 t f b;
#X msg 473 427 0;
#N canvas 0 0 931 572 dimen 0;
#X obj 150 479 outlet;
#X obj 72 24 inlet;
#X msg 132 365 dimen \$1 \$2;
#X obj 127 189 pack \$1 \$2;
#X msg 91 150 320 240;
#X obj 122 93 list;
#X obj 88 121 route bang;
#X obj 276 182 t l l;
#X obj 297 217 unpack;
#X obj 267 287 value gems/win/width;
#X obj 429 287 value gems/win/height;
#X obj 87 55 b;
#X obj 231 21 r \$0dimen;
#X connect 1 0 11 0;
#X connect 2 0 0 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 6 1 3 0;
#X connect 7 0 2 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 11 0 5 0;
#X connect 12 0 5 1;
#X restore 508 75 pd dimen;
#X obj 579 -90 s \$0dimen;
#X obj 227 -191 s \$0dimen;
#X obj 27 -183 t b b;
#X obj 91 -280 sel 1 0;
#X obj 446 -211 s \$0gemwin;
#X obj 143 77 t b f;
#X obj 135 158 t b b;
#X msg 90 -138 0;
#X msg 36 -104 1;
#X obj 16 -138 delay 201;
#X obj 243 174 delay 200;
#X connect 1 0 70 0;
#X connect 2 0 51 0;
#X connect 3 0 73 0;
#X connect 3 1 6 0;
#X connect 4 0 16 0;
#X connect 5 0 0 0;
#X connect 6 0 77 0;
#X connect 6 1 4 0;
#X connect 7 0 10 0;
#X connect 7 1 10 1;
#X connect 7 3 53 0;
#X connect 7 4 52 0;
#X connect 8 0 18 0;
#X connect 9 0 51 0;
#X connect 10 0 57 0;
#X connect 12 0 66 0;
#X connect 13 0 10 3;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 16 1 0 0;
#X connect 18 0 9 0;
#X connect 19 0 21 0;
#X connect 19 1 20 0;
#X connect 20 0 0 0;
#X connect 21 0 16 0;
#X connect 22 0 23 0;
#X connect 23 0 51 0;
#X connect 24 0 25 0;
#X connect 24 1 28 0;
#X connect 25 0 44 0;
#X connect 25 0 67 0;
#X connect 25 1 31 0;
#X connect 26 0 25 1;
#X connect 27 0 25 1;
#X connect 28 0 26 0;
#X connect 28 1 27 0;
#X connect 28 2 46 0;
#X connect 29 0 24 0;
#X connect 30 0 25 1;
#X connect 31 0 67 0;
#X connect 31 1 45 0;
#X connect 32 0 36 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 58 0;
#X connect 36 0 34 0;
#X connect 37 0 36 1;
#X connect 38 0 34 0;
#X connect 38 1 37 0;
#X connect 39 0 41 0;
#X connect 40 0 39 0;
#X connect 41 0 42 0;
#X connect 42 0 58 0;
#X connect 43 0 41 0;
#X connect 44 0 41 0;
#X connect 45 0 38 0;
#X connect 45 1 43 0;
#X connect 46 0 25 0;
#X connect 46 1 30 0;
#X connect 47 0 56 0;
#X connect 48 0 69 0;
#X connect 48 1 2 0;
#X connect 48 2 68 0;
#X connect 48 3 38 0;
#X connect 48 4 41 0;
#X connect 48 5 50 0;
#X connect 48 6 71 0;
#X connect 49 0 60 0;
#X connect 50 0 47 0;
#X connect 51 0 72 0;
#X connect 52 0 10 2;
#X connect 53 0 8 0;
#X connect 54 0 64 0;
#X connect 55 0 16 0;
#X connect 60 0 63 0;
#X connect 60 1 59 0;
#X connect 60 2 62 0;
#X connect 61 0 50 0;
#X connect 62 0 61 1;
#X connect 63 0 61 0;
#X connect 64 0 50 0;
#X connect 64 1 65 0;
#X connect 65 0 61 1;
#X connect 66 0 58 0;
#X connect 69 0 76 0;
#X connect 69 1 74 0;
#X connect 70 0 69 0;
#X connect 70 1 2 0;
#X connect 70 2 48 0;
#X connect 72 1 3 0;
#X connect 73 0 19 0;
#X connect 73 1 11 0;
#X connect 74 0 51 0;
#X connect 75 0 51 0;
#X connect 76 0 75 0;
#X connect 77 0 5 0;

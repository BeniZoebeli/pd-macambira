# pd's directory
PD_DIR = /home/tom/pd/distro/pd
PDP_DIR = /home/tom/pd/packet

#PD_DIR = /usr/local/pd
#PDP_DIR = /usr/local/pdp

# uncomment for philips webcam support
# PDP_PWC = -DHAVE_V4LPWC

# specify target
#PDP_TARGET = linux
PDP_TARGET = linux_mmx


#################################################


PDP_VERSION = 0.8.3
PDP_DEFINES = $(PDP_PWC)

# build flags
#SDL_CFLAGS := $(shell sdl-config --cflags)
#SDL_LDFLAGS := $(shell sdl-config --libs)
SDL_FLAGS = -D_REENTRANT
SDL_LDFLAGS = -lSDL

PDP_INCLUDE =  -I$(PD_DIR)/src -I. -I/usr/X11R6/include  -I../include
PDP_LIBS    = -L/usr/X11R6/lib -lX11 -lXv -lXext -lm -lquicktime -ldl $(SDL_LDFLAGS)
PDP_AFLAGS  = 
#--gstabs
PDP_CFLAGS  = -DPD -O2 -funroll-loops -fomit-frame-pointer  -ffast-math \
    -Wall -W -Wstrict-prototypes -Werror \
    -Wno-unused -Wno-parentheses -Wno-switch $(PDP_DEFINES)\
    -DPDP_VERSION=\"$(PDP_VERSION)\" \
   -g $(SDL_CFLAGS)
# -Wshadow

# compiler and assembler
#CC = gcc-3.2
CC = gcc
AS = as

# build rules

.c.o:
	$(CC) $(PDP_CFLAGS) $(PDP_INCLUDE) -o $*.o -c $*.c
.s.o:
	$(AS) -o $*.o $*.s $(PDP_AFLAGS)

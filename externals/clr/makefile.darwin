current: pd_darwin

clean: ; rm -f *.o *.pd_darwin


# ----------------------- Mac OSX -----------------------

pd_darwin: clr.pd_darwin

.SUFFIXES: .pd_darwin


PDPATH=/Users/thomas/Develop/pd/devel_0_39

MONO=/Library/Frameworks/Mono.Framework

# where is the PD executable?
PD=$(PDPATH)/bin/pd

LDFLAGS=-L$(MONO)/Libraries -lmono  -lgmodule-2.0 -lgthread-2.0 -lglib-2.0 # -lintl -liconv

DARWININCLUDE = -I$(MONO)/Headers -I$(MONO)/Headers/glib-2.0 -I$(MONO)/Libraries/glib-2.0/include -I$(PDPATH)/src

DARWINCFLAGS = -DPD -O2 

.cpp.pd_darwin:
	g++ -dynamiclib -undefined dynamic_lookup $(DARWINCFLAGS) $(DARWININCLUDE) $(CFLAGS) $(LDFLAGS) -o $*.pd_darwin $*.cpp

Index: configure.in
===================================================================
RCS file: /cvsroot/pure-data/pd/src/configure.in,v
retrieving revision 1.21.2.1
diff -u -w -r1.21.2.1 configure.in
--- configure.in	28 Oct 2006 19:16:41 -0000	1.21.2.1
+++ configure.in	23 Dec 2006 07:44:30 -0000
@@ -41,6 +42,8 @@
     setuid=$enableval)
 AC_ARG_ENABLE(fftw,   [  --enable-fftw           use FFTW package],
     fftw=$enableval)
+AC_ARG_ENABLE(fat,		[  --disable-fat    build fat binary on Mac OS X], 
+    fat=$enableval, fat="yes")
 
 dnl Checks for programs.
 AC_PROG_CC
@@ -249,15 +263,20 @@
 	-I../portmidi/pm_common -I../portmidi/pm_mac \
 	-I../portmidi/porttime \
 	-DUSEAPI_PORTAUDIO -DPA19 -DPA_USE_COREAUDIO"
+dnl for Mac OS X 10.3 (i.e. < 10.4)
     if test `uname -r` = 7.9.0;
     then
-        MORECFLAGS="-DMACOSX3 -DPA_BIG_ENDIAN -Wno-error"
-    	EXTERNTARGET=d_ppc
-    else
+	fat="no"
+    fi
+    if test "x$fat" == "xyes";
+    then
         MORECFLAGS="-isysroot /Developer/SDKs/MacOSX10.4u.sdk \
             -arch i386 -arch ppc -Wno-error"
     	EXTERNTARGET=d_fat
         LDFLAGS=$LDFLAGS" -arch i386 -arch ppc"
+    else
+        MORECFLAGS="-DMACOSX3 -Wno-error"
+    	EXTERNTARGET=d_ppc
     fi
     SYSSRC="s_midi_pm.c s_audio_pa.c \
     	s_audio_pablio.c     \

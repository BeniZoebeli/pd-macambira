? configure
? makefile
Index: g_graph.c
===================================================================
RCS file: /cvsroot/pure-data/pd/src/g_graph.c,v
retrieving revision 1.10
diff -u -w -r1.10 g_graph.c
--- g_graph.c	3 Jun 2006 19:13:07 -0000	1.10
+++ g_graph.c	23 Dec 2006 07:27:29 -0000
@@ -741,7 +741,7 @@
         {
             i -= sys_fontheight(glist_getfont(x));
             sys_vgui(".x%lx.c create text %d %d -text {%s} -anchor nw\
-             -font -*-courier-bold--normal--%d-* -tags %s\n",
+             -font {courier %d bold} -tags %s\n",
                 (long)glist_getcanvas(x),  x1, i, arrayname->s_name,
                 sys_hostfontsize(glist_getfont(x)), tag);
         }
@@ -823,7 +823,7 @@
             /* draw x labels */
         for (i = 0; i < x->gl_nxlabels; i++)
             sys_vgui(".x%lx.c create text\
-        %d %d -text {%s} -font -*-courier-bold--normal--%d-* -tags %s\n",
+        %d %d -text {%s} -font {courier %d bold} -tags %s\n",
                 glist_getcanvas(x),
                 (int)glist_xtopixels(x, atof(x->gl_xlabel[i]->s_name)),
                 (int)glist_ytopixels(x, x->gl_xlabely), x->gl_xlabel[i]->s_name,
@@ -832,7 +832,7 @@
             /* draw y labels */
         for (i = 0; i < x->gl_nylabels; i++)
             sys_vgui(".x%lx.c create text\
-        %d %d -text {%s} -font -*-courier-bold--normal--%d-* -tags %s\n",
+        %d %d -text {%s} -font {courier %d bold} -tags %s\n",
                 glist_getcanvas(x),
                 (int)glist_xtopixels(x, x->gl_ylabelx),
                 (int)glist_ytopixels(x, atof(x->gl_ylabel[i]->s_name)),
Index: g_template.c
===================================================================
RCS file: /cvsroot/pure-data/pd/src/g_template.c,v
retrieving revision 1.18
diff -u -w -r1.18 g_template.c
--- g_template.c	9 Oct 2006 04:36:12 -0000	1.18
+++ g_template.c	23 Dec 2006 07:27:30 -0000
@@ -2126,7 +2126,7 @@
         drawnumber_sprintf(x, buf, &at);
         sys_vgui(".x%lx.c create text %d %d -anchor nw -fill %s -text {%s}",
                 glist_getcanvas(glist), xloc, yloc, colorstring, buf);
-        sys_vgui(" -font -*-courier-bold--normal--%d-*",
+        sys_vgui(" -font {courier %d bold}",
             sys_hostfontsize(glist_getfont(glist)));
         sys_vgui(" -tags drawnumber%lx\n", data);
     }
Index: s_main.c
===================================================================
RCS file: /cvsroot/pure-data/pd/src/s_main.c,v
retrieving revision 1.28
diff -u -w -r1.28 s_main.c
--- s_main.c	4 Oct 2006 19:35:06 -0000	1.28
+++ s_main.c	23 Dec 2006 07:27:31 -0000
@@ -158,11 +158,7 @@
 }
 
 int sys_defaultfont;
-#ifdef MSW
-#define DEFAULTFONT 12
-#else
 #define DEFAULTFONT 10
-#endif
 
 static void openit(const char *dirname, const char *filename)
 {
Index: u_main.tk
===================================================================
RCS file: /cvsroot/pure-data/pd/src/u_main.tk,v
retrieving revision 1.25
diff -u -w -r1.25 u_main.tk
--- u_main.tk	9 Oct 2006 04:36:12 -0000	1.25
+++ u_main.tk	23 Dec 2006 07:27:33 -0000
@@ -175,7 +175,7 @@
 
 
 frame .printout
-text .printout.text -relief raised -bd 2 -font -*-courier-bold--normal--12-* \
+text .printout.text -relief raised -bd 2 -font {courier 12 normal} \
     -yscrollcommand ".printout.scroll set" -width 80
 # .printout.text insert end "\n\n\n\n\n\n\n\n\n\n"
 scrollbar .printout.scroll -command ".printout.text yview"
@@ -364,7 +364,7 @@
     global pd_myversion
     set name [format ".help%d" $doc_number]
     toplevel $name
-    text $name.text -relief raised -bd 2 -font -*-times-regular--normal--14-* \
+    text $name.text -relief raised -bd 2 -font {times 14 normal} \
         -yscrollcommand "$name.scroll set" -background white
     scrollbar $name.scroll -command "$name.text yview"
     pack $name.scroll -side right -fill y
@@ -1279,7 +1279,7 @@
     set $windowName.lb [listbox $windowName.lb -height 20 -width 25\
                         -selectmode extended \
                         -relief solid -background white -borderwidth 1 \
-                        -font [format -*-courier-bold--normal--%d-* \
+                        -font [format {courier %d bold} \
                                $font] \
                         -yscrollcommand "$windowName.lb.sb set"]
     set $windowName.lb.sb [scrollbar $windowName.lb.sb \
@@ -1398,7 +1398,7 @@
     set bbox [$lbName bbox $itemNum]
     set y [expr [lindex $bbox 1] - 4]
     set $lbName.entry [entry $lbName.entry \
-                       -font [format -*-courier-bold--normal--%d-* $font]]
+                       -font [format {courier %d bold} $font]]
     $lbName.entry insert 0 []
     place configure $lbName.entry -relx 0 -y $y -relwidth 1
     lower $lbName.entry
@@ -3214,8 +3214,8 @@
 
 ############ pdtk_text_new -- create a new text object #2###########
 proc pdtk_text_new {canvasname myname x y text font color} {
-#    if {$font < 13} {set fontname [format -*-courier-bold----%d-* $font]}
-#    if {$font >= 13} {set fontname [format -*-courier-----%d-* $font]}
+#    if {$font < 13} {set fontname [format {courier %d bold} $font]}
+#    if {$font >= 13} {set fontname [format {courier %d normal} $font]}
 
         global pd_fontlist 
         switch -- $font {
